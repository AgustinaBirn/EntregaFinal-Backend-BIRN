<div>
  <div>
<h1>Mi perfil</h1>
<h3>Nombre: {{user.firstName}}</h3>
<h3>Apellido: {{user.lastName}}</h3>
<h3>Rol: {{user.role}}</h3>
<h3>cart: {{cart}}</h3>
<form action="/carts/{{cart}}" method="get">
  <button type="submit" class="btn btn-outline-secondary">
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cart" viewBox="0 0 16 16">
      <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5M3.102 4l1.313 7h8.17l1.313-7zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4m7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2"></path>
    </svg>
</button>
</form>


</div>
  <div id="productsList"  style="display: flex; justify-content: center; flex-wrap: wrap;">
    {{#each products}}

      <div class="card" id="card" style="width: 18rem; margin: 25px;">
        <img src=/static/img/{{this.thumbnail}}
          class="card-img-top"
          alt="imagen{{this.title}}"
        />
        <div class="card-body"  style="display: flex; justify-content: center; flex-direction:column">
          <h5 class="card-title" style="text-align: center;">{{this.title}}</h5>
          <p class="card-text" style="text-align: center;">{{this.description}}</p>
          <p class="card-price" style="text-align: center;">${{this.price}}</p>
        </div>
        <form action="/api/carts/{{../cart}}/products/{{this._id}}" method="post" style="display: flex; justify-content: center; margin-block-end: 25px">
          <button type="submit" class="btn btn-primary">Añadir al carrito</button>
        </form>
      </div>
    {{/each}}
  </div>
  <div class="buttons-page">
  <button type="button"  class="btn btn-primary previousPage"><</button>
  <button type="button" class="btn btn-primary nextPage">></button>
  </div>

  <form action="/api/auth/logout" method="get">
    <button type="submit" class="btn btn-success">Cerrar sesión</button>
  </form>
</div>

<script
  src="https://cdn.socket.io/4.7.5/socket.io.min.js"
  integrity="sha384-2huaZvOR9iDzHqslqwpR87isEmrfxqyWOF7hr7BY6KG0+hVKLoEXMPUJw3ynWuhO"
  crossorigin="anonymous"
></script>

<script>
{{!-- const askForUser = async () => { 
    const result = await Swal.fire({ 
      title: 'Bienvenido', 
      input: 'text',
      text: 'Ingrese su email', 
      inputValidator: value => { 
        return !value && 'Debe ingresar su email' }, 
        allowOutsideClick: false 
        }); 

      return result.value 
    }; 
  let user = await askForUser(); 
  console.log(user, Error) --}}

  {{!-- const previousPage = document.getElementById("previousPage");
  const nextPage = document.getElementById("nextPage");

  previousPage.onclick= data.nextPage && console.log(data.nextPage) --}}

  const serverAddress = "ws://localhost:8080"; 
  const socketClient = io(serverAddress);

</script>